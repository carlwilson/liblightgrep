<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Liblightgrep by strozfriedberg</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-dark.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Liblightgrep</h1>
        <p>Fast multipattern regular expression searching for digital forensics</p>
        <p class="view"><a href="https://github.com/strozfriedberg/liblightgrep">View the Project on GitHub <small>strozfriedberg/liblightgrep</small></a></p>
        <ul>
          <li><a href="https://github.com/strozfriedberg/liblightgrep/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/strozfriedberg/liblightgrep/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/strozfriedberg/liblightgrep">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1><a id="python-api" class="anchor" href="#python-api" aria-hidden="true"><span class="octicon octicon-link"></span></a>Lightgrep Python API</h1>

        <p>The Lightgrep Python bindings are designed to work in Python 2.7+ and 3.4+ 
        in both 32-bit and 64-bit versions. The liblightgrep.dll and support DLL architectures must, however, 
        match the Python architecture otherwise an error will be generated.</p>
        <p>The list of supported encodings can be found at the 
        <a href="http://demo.icu-project.org/icu-bin/convexp">ICU Project website</a>.</p>

<p>Simple Example in Python</p>
<pre>
text = " These aren't the droids you're looking for."
data = text.encode ('utf-8')

pats = (
    ('droids ', ['UTF-8', 'UTF-16LE'], KeyOpts(caseInsensitive = True)),
    ('a.*?t', ['ASCII'], KeyOpts ())
)

accum = HitAccumulator()

with Lightgrep(pats, accum.lgCallback) as lg:
    hitcount = lg.searchBuffer(data, accum)

for h in accum.Hits:
    print('hit on {} in {} at [{} ,{}): "{}"'.format(
        h['pattern'], h['encChain'], h['start'], h['end'],
        data [h['start']:h['end']].decode('utf-8')
    ))
</pre>
Output:
<pre>
$ ./ex.py
hit on a.*?t in ASCII at [6 ,12): "aren't"
hit on droids in UTF-8 at [17 ,23): "droids"
</pre>

<p>Where are the program, pattern map, FSM, search context?
Not in the simple example.</p>

<pre>
text = "These aren't the droids you're looking for."
data = text . encode ('utf-8')
pats = (
    ('droids', ['UTF-8', 'UTF-16LE'], KeyOpts ( caseInsensitive = True )),
    ('a.*?t', ['ASCII'], KeyOpts ())
)
accum = HitAccumulator()
with Lightgrep(pats, accum.lgCallback) as lg:
    hitcount = lg.searchBuffer(data, accum)

for h in accum.Hits:
    print ('hit on {} in {} at [{} ,{}): "{}" '.format (
        h['pattern'], h['encChain'], h['start'], h['end'],
        data [h['start']:h['end']].decode ('utf-8')
    ))

prog, pmap = Lightgrep.createProgram(pats)
lg = Lightgrep()
accum = HitAccumulator()
lg.createContext(prog, pmap, accum.lgCallback)

hitcount = lg.searchBuffer(data, accum)
for h in accum.Hits:
    # do stuff with hits

accum.reset()
lg.reset()

hitcount = lg.searchBuffer(otherdata, accum)
for h in accum.Hits :
    # do stuff with other hits

lg.close()
</pre>


<p>Use Lightgrep in the language you want!*</p>
<p>*As long as the language you want is C, C++, or Python (or you can write your own bindings).</p>


      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/strozfriedberg">strozfriedberg</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>
